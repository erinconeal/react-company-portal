var e=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequireec75;e.register("kj4TA",(function(t,s){Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.default=void 0;var n=e("gctDA"),i=e("enQ9P"),l=o(e("dnsOc")),a=o(e("5NsCk")),d=o(e("7tJW9")),r=e("bIkCC");function o(e){return e&&e.__esModule?e:{default:e}}function c(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const h={clients:[]};class u extends n.Component{constructor(...e){super(...e),c(this,"state",{clients:[],showAddForm:!1,status:"unloaded",updating:{}}),c(this,"handleAddButtonClick",(()=>{this.setState(Object.assign({showAddForm:!this.state.showAddForm}))})),c(this,"addClient",(async e=>{try{const t=await fetch("https://jsonplaceholder.typicode.com/users",{method:"POST",body:JSON.stringify({...e}),headers:{"Content-type":"application/json; charset=UTF-8"}}),s=await t.json();this.setState({clients:[...this.state.clients,s],showAddForm:!1}),h.clients=this.state.clients}catch(e){console.log(e)}})),c(this,"cancelAddClient",(()=>{this.setState({showAddForm:!1})})),c(this,"deleteClient",(async e=>{try{await fetch(`https://jsonplaceholder.typicode.com/users/${e}`,{method:"DELETE"});const t=this.state.clients.filter((t=>t.id!==e));this.setState({clients:t}),h.clients=this.state.clients}catch(e){console.log(e)}})),c(this,"toggleUpdateClient",(e=>{this.setState((t=>{const s={...t.updating};return s[e]=!s[e],{updating:s}}))})),c(this,"updateClient",(async(e,t,s)=>{try{const n=await fetch(`https://jsonplaceholder.typicode.com/users/${t}`,{method:"PUT",body:JSON.stringify({...e}),headers:{"Content-type":"application/json; charset=UTF-8"}}),i=await n.json(),l=this.state.clients.findIndex((e=>e.id===t));this.state.clients.splice(l,1),this.setState({clients:[...this.state.clients,i],showAddForm:!1}),h.clients=this.state.clients,this.toggleUpdateClient(s)}catch(e){console.log(e)}}))}async componentDidMount(){if(h.clients.length)this.setState(Object.assign({clients:h.clients,status:"loaded"}));else try{this.setState(Object.assign({clients:Array(10).fill(void 0),status:"loading"}));const e=await fetch("https://jsonplaceholder.typicode.com/users"),t=await e.json();this.setState(Object.assign({clients:t,status:"loaded"})),h.clients=this.state.clients}catch(e){console.log(e)}}render(){return r.jsxs("div",{children:[r.jsxs("div",{className:"flex-col sm:flex sm:flex-row sm:items-baseline sm:justify-between",children:[r.jsx("h1",{children:"Clients"}),r.jsx("button",{type:"button",className:"ml-4 sm:ml-0 btn btn-primary",onClick:this.handleAddButtonClick,children:this.state.showAddForm?"Close":"Add"})]}),this.state.showAddForm?r.jsx(l.default,{onAddClient:()=>this.addClient,title:"Add new client",submitButtonText:"Add client",submitAction:"addClient",onCancelAddClient:this.cancelAddClient}):null,r.jsx("ul",{className:"clients",children:this.state.clients.map(((e,t)=>{const s=this.state.updating[t];return{loading:r.jsx("li",{children:r.jsx(d.default,{})},t),loaded:s?r.jsx("li",{children:r.jsx(l.default,{client:e,onUpdateClient:(e,s)=>this.updateClient(e,s,t),title:"Update",submitButtonText:"Update",submitAction:"updateClient",onCancelUpdateClient:()=>this.toggleUpdateClient(t)})},t):r.jsx("li",{children:r.jsx(a.default,{client:e,onDeleteClient:()=>this.deleteClient,onUpdateClient:()=>this.toggleUpdateClient(t)})},t)}[this.state.status]}))})]})}}var p=i.withRouter(u);t.exports.default=p})),e.register("dnsOc",(function(t,s){Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.default=void 0;var n=e("gctDA"),i=e("bIkCC");function l(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class a extends n.Component{constructor(...e){super(...e),l(this,"state",{formInputs:{address:{suite:"",city:"",street:"",zipcode:""},company:{name:""},website:"",name:"",email:"",phone:"",id:0}}),l(this,"handleInputChange",((e,t)=>{const s=e.target,n="checkbox"===s.type?s.checked:s.value,i=s.name,l=Object.assign({},this.state);t?l.formInputs[t][i]=n:l.formInputs[i]=n,this.setState(l)})),l(this,"handleCancelButtonClick",(()=>{switch(this.props.submitAction){case"addClient":return this.props.onCancelAddClient();case"updateClient":return this.props.onCancelUpdateClient();default:throw new Error}}))}componentDidMount(){this.props.client&&this.setState(Object.assign({formInputs:this.props.client}))}handleSubmitClient(){switch(this.props.submitAction){case"addClient":return this.props.onAddClient(this.state.formInputs);case"updateClient":return this.props.onUpdateClient(this.state.formInputs,this.props.client.id);default:throw new Error}}render(){const{website:e,name:t,email:s,phone:n,address:{suite:l,street:a,city:d,zipcode:r}}=this.state.formInputs;return i.jsxs("div",{className:"border-card",children:[i.jsx("h2",{children:this.props.title}),i.jsxs("form",{id:"clientForm",onSubmit:e=>{e.preventDefault(),this.handleSubmitClient()},children:[i.jsxs("div",{className:"form-input",children:[i.jsx("label",{htmlFor:"companyName",children:"Company Name (required)"}),i.jsx("input",{type:"text",id:"companyName",name:"name",value:this.state.formInputs.company.name,required:!0,"aria-required":"true",onChange:e=>this.handleInputChange(e,"company")})]}),i.jsxs("div",{className:"form-input",children:[i.jsx("label",{htmlFor:"website",children:"Website"}),i.jsx("input",{type:"text",id:"website",name:"website",value:e,onChange:()=>this.handleInputChange})]}),i.jsxs("div",{children:[i.jsx("h3",{children:"Client Address"}),i.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"form-input",children:[i.jsx("label",{htmlFor:"suite",children:"Suite/Apt"}),i.jsx("input",{type:"text",id:"suite",name:"suite",value:l,onChange:e=>this.handleInputChange(e,"address")})]}),i.jsxs("div",{className:"form-input",children:[i.jsx("label",{htmlFor:"street",children:"Street (required)"}),i.jsx("input",{type:"text",id:"street",name:"street",required:!0,"aria-required":"true",value:a,onChange:e=>this.handleInputChange(e,"address")})]}),i.jsxs("div",{className:"form-input",children:[i.jsx("label",{htmlFor:"city",children:"City (required)"}),i.jsx("input",{type:"text",id:"city",name:"city",required:!0,"aria-required":"true",value:d,onChange:e=>this.handleInputChange(e,"address")})]}),i.jsxs("div",{className:"form-input",children:[i.jsx("label",{htmlFor:"zipcode",children:"Zip code (required)"}),i.jsx("input",{type:"text",id:"zipcode",name:"zipcode",required:!0,"aria-required":"true",value:r,onChange:e=>this.handleInputChange(e,"address")})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{children:"Client Contact"}),i.jsxs("div",{className:"form-input",children:[i.jsx("label",{htmlFor:"fullName",children:"Full name (required)"}),i.jsx("input",{type:"text",id:"fullName",name:"name",required:!0,"aria-required":"true",value:t,onChange:()=>this.handleInputChange})]}),i.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"form-input",children:[i.jsx("label",{htmlFor:"email",children:"Email"}),i.jsx("input",{type:"email",id:"email",name:"email",value:s,onChange:()=>this.handleInputChange})]}),i.jsxs("div",{className:"form-input",children:[i.jsx("label",{htmlFor:"phone",children:"Phone number"}),i.jsx("input",{type:"tel",id:"phone",name:"phone",value:n,onChange:()=>this.handleInputChange})]})]})]}),i.jsxs("div",{className:"flex space-x-5 mt-5",children:[i.jsx("button",{className:"btn btn-primary",children:this.props.submitButtonText}),i.jsx("button",{className:"btn btn-secondary",type:"button",onClick:this.handleCancelButtonClick,children:"Cancel"})]})]})]})}}var d=a;t.exports.default=d})),e.register("5NsCk",(function(t,s){Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.default=void 0;var n=e("gctDA"),i=e("bIkCC");class l extends n.Component{handleDeleteClient(e){return this.props.onDeleteClient(e)}handleUpdateClient(){return this.props.onUpdateClient()}render(){var e,t,s,n;const{client:l}=this.props;return i.jsxs("div",{className:"border-card",children:[i.jsx("h2",{children:l.company.name}),l.website?i.jsx("a",{href:l.website,children:l.website}):null,i.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 mt-7 clients",children:[i.jsxs("div",{children:[i.jsx("p",{children:null==l||null===(e=l.address)||void 0===e?void 0:e.suite}),i.jsx("p",{children:null==l||null===(t=l.address)||void 0===t?void 0:t.street}),i.jsx("p",{children:null==l||null===(s=l.address)||void 0===s?void 0:s.city}),i.jsx("p",{children:null==l||null===(n=l.address)||void 0===n?void 0:n.zipcode})]}),i.jsxs("div",{children:[i.jsx("p",{children:"Contact:"}),i.jsx("p",{children:l.name}),i.jsx("p",{children:i.jsx("a",{href:l.email,children:l.email})}),i.jsx("a",{href:l.phone,children:l.phone})]})]}),i.jsxs("div",{className:"flex space-x-5 mt-5",children:[i.jsx("button",{className:"btn btn-secondary",onClick:()=>this.handleUpdateClient(),children:"Update"}),i.jsx("button",{className:"btn btn-danger",onClick:()=>this.handleDeleteClient(l.id),children:"Delete"})]})]})}}var a=l;t.exports.default=a})),e.register("7tJW9",(function(t,s){Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.default=void 0;var n,i=e("gctDA"),l=(n=e("asBSk"))&&n.__esModule?n:{default:n},a=e("bIkCC");class d extends i.Component{render(){return a.jsxs("div",{className:"border-card",children:[a.jsx("h2",{children:a.jsx(l.default,{})}),a.jsx(l.default,{}),a.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 mt-7 clients",children:[a.jsx(l.default,{count:4}),a.jsxs("div",{children:[a.jsx("p",{children:"Contact:"}),a.jsx(l.default,{count:3})]})]})]})}}var r=d;t.exports.default=r}));
//# sourceMappingURL=Clients.972845ad.js.map
