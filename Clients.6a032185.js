var e=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequireec75;e.register("kj4TA",(function(t,n){Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.default=void 0;var i=e("gctDA"),s=e("enQ9P"),r=d(e("bpkn9")),a=d(e("dnsOc")),o=d(e("5NsCk")),l=d(e("7tJW9")),c=e("bIkCC");function d(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const p={clients:[]};class h extends i.Component{constructor(...e){super(...e),u(this,"state",{clients:[],showAddForm:!1,status:"unloaded",updating:{}}),u(this,"handleAddButtonClick",(()=>{this.setState(Object.assign({showAddForm:!this.state.showAddForm}))})),u(this,"addClient",(async e=>{try{const t=await fetch("https://jsonplaceholder.typicode.com/users",{method:"POST",body:JSON.stringify({...e,id:this.state.clients.length+1}),headers:{"Content-type":"application/json; charset=UTF-8"}}),n=await t.json();this.setState({clients:[...this.state.clients,n],showAddForm:!1}),p.clients=this.state.clients}catch(e){console.log(e)}})),u(this,"cancelAddClient",(()=>{this.setState({showAddForm:!1})})),u(this,"deleteClient",(async e=>{try{await fetch(`https://jsonplaceholder.typicode.com/users/${e}`,{method:"DELETE"});const t=this.state.clients.filter((t=>t.id!==e));this.setState({clients:t}),p.clients=this.state.clients}catch(e){console.log(e)}})),u(this,"toggleUpdateClient",(e=>{this.setState((t=>{const n={...t.updating};return n[e]=!n[e],{updating:n}}))})),u(this,"updateClient",(async(e,t,n)=>{try{const i=await fetch(`https://jsonplaceholder.typicode.com/users/${t}`,{method:"PUT",body:JSON.stringify(e),headers:{"Content-type":"application/json; charset=UTF-8"}}),s=await i.json(),a=this.state.clients.findIndex((e=>e.id===t));this.setState(r.default(this.state.clients,{$splice:[[a,1,s]]})),p.clients=this.state.clients,this.toggleUpdateClient(n)}catch(e){console.log(e)}}))}async componentDidMount(){if(p.clients.length)this.setState(Object.assign({clients:p.clients,status:"loaded"}));else try{this.setState(Object.assign({clients:Array(10).fill(void 0),status:"loading"}));const e=await fetch("https://jsonplaceholder.typicode.com/users"),t=await e.json();this.setState(Object.assign({clients:t,status:"loaded"})),p.clients=this.state.clients}catch(e){console.log(e)}}render(){return c.jsxs("div",{children:[c.jsxs("div",{className:"flex-col sm:flex sm:flex-row sm:items-baseline sm:justify-between",children:[c.jsx("h1",{children:"Clients"}),c.jsx("button",{type:"button",className:"ml-4 sm:ml-0 btn btn-primary",onClick:this.handleAddButtonClick,children:this.state.showAddForm?"Close":"Add"})]}),this.state.showAddForm?c.jsx(a.default,{onAddClient:e=>this.addClient(e),title:"Add new client",submitButtonText:"Add client",submitAction:"addClient",onCancelAddClient:this.cancelAddClient}):null,c.jsx("ul",{className:"clients",children:this.state.clients.map(((e,t)=>{const n=this.state.updating[t];return{loading:c.jsx("li",{"data-testid":`loading${t}`,children:c.jsx(l.default,{})},t),loaded:n?c.jsx("li",{"data-testid":`updating${t}`,children:c.jsx(a.default,{client:e,title:"Update",submitButtonText:"Update",submitAction:"updateClient",onUpdateClient:(e,n)=>this.updateClient(e,n,t),onCancelUpdateClient:()=>this.toggleUpdateClient(t)})},t):c.jsx("li",{"data-testid":`loaded${t}`,children:c.jsx(o.default,{client:e,onDeleteClient:e=>this.deleteClient(e),onUpdateClient:()=>this.toggleUpdateClient(t)})},t)}[this.state.status]}))})]})}}var f=s.withRouter(h);t.exports.default=f})),e.register("bpkn9",(function(t,n){var i=e("iTtRV");function s(e){return"object"!=typeof e||"toString"in e?e:Object.prototype.toString.call(e).slice(8,-1)}Object.defineProperty(t.exports,"__esModule",{value:!0});var r="object"==typeof i&&!0;function a(e,t){if(!e){if(r)throw new Error("Invariant failed");throw new Error(t())}}t.exports.invariant=a;var o=Object.prototype.hasOwnProperty,l=Array.prototype.splice,c=Object.prototype.toString;function d(e){return c.call(e).slice(8,-1)}var u=Object.assign||function(e,t){return p(t).forEach((function(n){o.call(t,n)&&(e[n]=t[n])})),e},p="function"==typeof Object.getOwnPropertySymbols?function(e){return Object.keys(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.keys(e)};function h(e){return Array.isArray(e)?u(e.constructor(e.length),e):"Map"===d(e)?new Map(e):"Set"===d(e)?new Set(e):e&&"object"==typeof e?u(Object.create(Object.getPrototypeOf(e)),e):e}var f=function(){function e(){this.commands=u({},m),this.update=this.update.bind(this),this.update.extend=this.extend=this.extend.bind(this),this.update.isEquals=function(e,t){return e===t},this.update.newContext=function(){return(new e).update}}return Object.defineProperty(e.prototype,"isEquals",{get:function(){return this.update.isEquals},set:function(e){this.update.isEquals=e},enumerable:!0,configurable:!0}),e.prototype.extend=function(e,t){this.commands[e]=t},e.prototype.update=function(e,t){var n=this,i="function"==typeof t?{$apply:t}:t;Array.isArray(e)&&Array.isArray(i)||a(!Array.isArray(i),(function(){return"update(): You provided an invalid spec to update(). The spec may not contain an array except as the value of $set, $push, $unshift, $splice or any custom command allowing an array value."})),a("object"==typeof i&&null!==i,(function(){return"update(): You provided an invalid spec to update(). The spec and every included key path must be plain objects containing one of the following commands: "+Object.keys(n.commands).join(", ")+"."}));var s=e;return p(i).forEach((function(t){if(o.call(n.commands,t)){var r=e===s;s=n.commands[t](i[t],s,i,e),r&&n.isEquals(s,e)&&(s=e)}else{var a="Map"===d(e)?n.update(e.get(t),i[t]):n.update(e[t],i[t]),l="Map"===d(s)?s.get(t):s[t];n.isEquals(a,l)&&(void 0!==a||o.call(e,t))||(s===e&&(s=h(e)),"Map"===d(s)?s.set(t,a):s[t]=a)}})),s},e}();t.exports.Context=f;var m={$push:function(e,t,n){return x(t,n,"$push"),e.length?t.concat(e):t},$unshift:function(e,t,n){return x(t,n,"$unshift"),e.length?e.concat(t):t},$splice:function(e,t,n,i){return function(e,t){a(Array.isArray(e),(function(){return"Expected $splice target to be an array; got "+s(e)})),b(t.$splice)}(t,n),e.forEach((function(e){b(e),t===i&&e.length&&(t=h(i)),l.apply(t,e)})),t},$set:function(e,t,n){return function(e){a(1===Object.keys(e).length,(function(){return"Cannot have more than one key in an object with $set"}))}(n),e},$toggle:function(e,t){g(e,"$toggle");var n=e.length?h(t):t;return e.forEach((function(e){n[e]=!t[e]})),n},$unset:function(e,t,n,i){return g(e,"$unset"),e.forEach((function(e){Object.hasOwnProperty.call(t,e)&&(t===i&&(t=h(i)),delete t[e])})),t},$add:function(e,t,n,i){return j(t,"$add"),g(e,"$add"),"Map"===d(t)?e.forEach((function(e){var n=e[0],s=e[1];t===i&&t.get(n)!==s&&(t=h(i)),t.set(n,s)})):e.forEach((function(e){t!==i||t.has(e)||(t=h(i)),t.add(e)})),t},$remove:function(e,t,n,i){return j(t,"$remove"),g(e,"$remove"),e.forEach((function(e){t===i&&t.has(e)&&(t=h(i)),t.delete(e)})),t},$merge:function(e,t,n,i){var r,o;return r=t,a((o=e)&&"object"==typeof o,(function(){return"update(): $merge expects a spec of type 'object'; got "+s(o)})),a(r&&"object"==typeof r,(function(){return"update(): $merge expects a target of type 'object'; got "+s(r)})),p(e).forEach((function(n){e[n]!==t[n]&&(t===i&&(t=h(i)),t[n]=e[n])})),t},$apply:function(e,t){var n;return a("function"==typeof(n=e),(function(){return"update(): expected spec of $apply to be a function; got "+s(n)+"."})),e(t)}},y=new f;function x(e,t,n){a(Array.isArray(e),(function(){return"update(): expected target of "+s(n)+" to be an array; got "+s(e)+"."})),g(t[n],n)}function g(e,t){a(Array.isArray(e),(function(){return"update(): expected spec of "+s(t)+" to be an array; got "+s(e)+". Did you forget to wrap your parameter in an array?"}))}function b(e){a(Array.isArray(e),(function(){return"update(): expected spec of $splice to be an array of arrays; got "+s(e)+". Did you forget to wrap your parameters in an array?"}))}function j(e,t){var n=d(e);a("Map"===n||"Set"===n,(function(){return"update(): "+s(t)+" expects a target of type Set or Map; got "+s(n)}))}t.exports.isEquals=y.update.isEquals,t.exports.extend=y.extend,t.exports.default=y.update,t.exports.default.default=t.exports=u(t.exports.default,t.exports)})),e.register("iTtRV",(function(e,t){var n,i,s=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function o(e){if(n===setTimeout)return setTimeout(e,0);if((n===r||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:r}catch(e){n=r}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();var l,c=[],d=!1,u=-1;function p(){d&&l&&(d=!1,l.length?c=l.concat(c):u=-1,c.length&&h())}function h(){if(!d){var e=o(p);d=!0;for(var t=c.length;t;){for(l=c,c=[];++u<t;)l&&l[u].run();u=-1,t=c.length}l=null,d=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}s.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new f(e,t)),1!==c.length||d||o(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=m,s.addListener=m,s.once=m,s.off=m,s.removeListener=m,s.removeAllListeners=m,s.emit=m,s.prependListener=m,s.prependOnceListener=m,s.listeners=function(e){return[]},s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}})),e.register("dnsOc",(function(t,n){Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.default=void 0;var i=e("gctDA"),s=e("bIkCC");function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class a extends i.Component{constructor(...e){super(...e),r(this,"state",{formInputs:{address:{suite:"",city:"",street:"",zipcode:""},company:{name:""},website:"",name:"",email:"",phone:"",id:0}}),r(this,"handleInputChange",((e,t)=>{const n=e.target,i="checkbox"===n.type?n.checked:n.value,s=n.name,r=Object.assign({},this.state);t?r.formInputs[t][s]=i:r.formInputs[s]=i,this.setState(r)})),r(this,"handleCancelButtonClick",(()=>{switch(this.props.submitAction){case"addClient":return this.props.onCancelAddClient();case"updateClient":return this.props.onCancelUpdateClient();default:throw new Error}}))}componentDidMount(){this.props.client&&this.setState(Object.assign({formInputs:this.props.client}))}handleSubmitClient(){switch(this.props.submitAction){case"addClient":return this.props.onAddClient(this.state.formInputs);case"updateClient":return this.props.onUpdateClient(this.state.formInputs,this.props.client.id);default:throw new Error}}render(){const{website:e,name:t,email:n,phone:i,address:{suite:r,street:a,city:o,zipcode:l},id:c}=this.state.formInputs;return s.jsxs("div",{className:"border-card",children:[s.jsx("h2",{children:this.props.title}),s.jsxs("form",{id:"clientForm",onSubmit:e=>{e.preventDefault(),this.handleSubmitClient()},children:[s.jsxs("div",{className:"form-input",children:[s.jsx("label",{htmlFor:"companyName",children:"Company Name (required)"}),s.jsx("input",{type:"text",id:"companyName",name:"name",value:this.state.formInputs.company.name,required:!0,"aria-required":"true",onChange:e=>this.handleInputChange(e,"company")})]}),s.jsxs("div",{className:"form-input",children:[s.jsx("label",{htmlFor:"website",children:"Website"}),s.jsx("input",{type:"text",id:"website",name:"website",value:e,onChange:e=>this.handleInputChange(e)})]}),s.jsxs("div",{children:[s.jsx("h3",{children:"Client Address"}),s.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"form-input",children:[s.jsx("label",{htmlFor:"suite",children:"Suite/Apt"}),s.jsx("input",{type:"text",id:"suite",name:"suite",value:r,onChange:e=>this.handleInputChange(e,"address")})]}),s.jsxs("div",{className:"form-input",children:[s.jsx("label",{htmlFor:"street",children:"Street (required)"}),s.jsx("input",{type:"text",id:"street",name:"street",required:!0,"aria-required":"true",value:a,onChange:e=>this.handleInputChange(e,"address")})]}),s.jsxs("div",{className:"form-input",children:[s.jsx("label",{htmlFor:"city",children:"City (required)"}),s.jsx("input",{type:"text",id:"city",name:"city",required:!0,"aria-required":"true",value:o,onChange:e=>this.handleInputChange(e,"address")})]}),s.jsxs("div",{className:"form-input",children:[s.jsx("label",{htmlFor:"zipcode",children:"Zip code (required)"}),s.jsx("input",{type:"text",id:"zipcode",name:"zipcode",required:!0,"aria-required":"true",value:l,onChange:e=>this.handleInputChange(e,"address")})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{children:"Client Contact"}),s.jsxs("div",{className:"form-input",children:[s.jsx("label",{htmlFor:"fullName",children:"Full name (required)"}),s.jsx("input",{type:"text",id:"fullName",name:"name",required:!0,"aria-required":"true",value:t,onChange:e=>this.handleInputChange(e)})]}),s.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"form-input",children:[s.jsx("label",{htmlFor:"email",children:"Email"}),s.jsx("input",{type:"email",id:"email",name:"email",value:n,onChange:e=>this.handleInputChange(e)})]}),s.jsxs("div",{className:"form-input",children:[s.jsx("label",{htmlFor:"phone",children:"Phone number"}),s.jsx("input",{type:"tel",id:"phone",name:"phone",value:i,onChange:e=>this.handleInputChange(e)})]})]})]}),s.jsxs("div",{className:"flex space-x-5 mt-5",children:[s.jsx("button",{className:"btn btn-primary","data-testid":`${this.props.submitAction}Btn${c}`,children:this.props.submitButtonText}),s.jsx("button",{className:"btn btn-secondary","data-testid":`${this.props.submitAction}CancelBtn${c}`,type:"button",onClick:this.handleCancelButtonClick,children:"Cancel"})]})]})]})}}var o=a;t.exports.default=o})),e.register("5NsCk",(function(t,n){Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.default=void 0;var i=e("gctDA"),s=e("bIkCC");class r extends i.Component{handleDeleteClient(e){return this.props.onDeleteClient(e)}handleUpdateClient(){return this.props.onUpdateClient()}render(){var e,t,n,i;const{client:r}=this.props;return s.jsxs("div",{className:"border-card",children:[s.jsx("h2",{children:r.company.name}),r.website?s.jsx("a",{href:r.website,children:r.website}):null,s.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 mt-7 clients",children:[s.jsxs("div",{children:[s.jsx("p",{children:null==r||null===(e=r.address)||void 0===e?void 0:e.suite}),s.jsx("p",{children:null==r||null===(t=r.address)||void 0===t?void 0:t.street}),s.jsx("p",{children:null==r||null===(n=r.address)||void 0===n?void 0:n.city}),s.jsx("p",{children:null==r||null===(i=r.address)||void 0===i?void 0:i.zipcode})]}),s.jsxs("div",{children:[s.jsx("p",{children:"Contact:"}),s.jsx("p",{children:r.name}),s.jsx("p",{children:s.jsx("a",{href:r.email,children:r.email})}),s.jsx("a",{href:r.phone,children:r.phone})]})]}),s.jsxs("div",{className:"flex space-x-5 mt-5",children:[s.jsx("button",{className:"btn btn-secondary",onClick:()=>this.handleUpdateClient(),children:"Update"}),s.jsx("button",{className:"btn btn-danger",onClick:()=>this.handleDeleteClient(r.id),children:"Delete"})]})]})}}var a=r;t.exports.default=a})),e.register("7tJW9",(function(t,n){Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.default=void 0;var i,s=e("gctDA"),r=(i=e("asBSk"))&&i.__esModule?i:{default:i},a=e("bIkCC");class o extends s.Component{render(){return a.jsxs("div",{className:"border-card",children:[a.jsx("h2",{children:a.jsx(r.default,{})}),a.jsx(r.default,{}),a.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 mt-7 clients",children:[a.jsx(r.default,{count:4}),a.jsxs("div",{children:[a.jsx("p",{children:"Contact:"}),a.jsx(r.default,{count:3})]})]})]})}}var l=o;t.exports.default=l}));
//# sourceMappingURL=Clients.6a032185.js.map
